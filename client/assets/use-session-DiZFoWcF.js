import{r as e,g as c,j as k,a as C,l as T,d as h,e as x}from"./sessions-CS7UQMji.js";import{H as S,g as p}from"./util-uYZNSEiQ.js";const l=e.createContext(void 0),U=({children:t})=>{const[o,r]=e.useState(""),[a,n]=e.useState(!1);e.useEffect(()=>{const s=setTimeout(()=>{c("access")&&(n(!0),r(o))},0);return()=>clearTimeout(s)},[]);const g={accessToken:o,isSignedIn:a,signIn:s=>{r(s),n(!0)},signOut:async()=>{const s=c("access")||"",i=c("refresh")||"",d=S.New().setAccessToken(s).setRefreshToken(i).build();try{await C.signOut(d)}catch(f){const u=await p(f);u&&T.error(u)}h(),r(""),n(!1)},getClaims:()=>x()},m=e.useMemo(()=>g,[o,a]);return k.jsx(l.Provider,{value:m,children:t})},j=()=>{const t=e.useContext(l);if(!t)throw new Error("useColorTheme must be used within a ColorThemeProvider");return t};export{U,j as u};
