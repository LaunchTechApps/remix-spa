import{r as e,g as c,j as k,H as C,a as T,b as h,l as x,d as S,K as p}from"./sessions-C57l87vz.js";const l=e.createContext(void 0),R=({children:t})=>{const[o,r]=e.useState(""),[a,n]=e.useState(!1);e.useEffect(()=>{const s=setTimeout(()=>{c("access")&&(n(!0),r(o))},0);return()=>clearTimeout(s)},[]);const g={accessToken:o,isSignedIn:a,signIn:s=>{r(s),n(!0)},signOut:async()=>{const s=c("access")||"",i=c("refresh")||"",m=C.New().setAccessToken(s).setRefreshToken(i).build();try{await T.signOut(m)}catch(f){const u=await h(f);u&&x.error(u)}S(),r(""),n(!1)},getClaims:()=>p()},d=e.useMemo(()=>g,[o,a]);return k.jsx(l.Provider,{value:d,children:t})},U=()=>{const t=e.useContext(l);if(!t)throw new Error("useColorTheme must be used within a ColorThemeProvider");return t};export{R as U,U as u};
