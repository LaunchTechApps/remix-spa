import{a as u,s as p,j as e}from"./sessions-CS7UQMji.js";import{z as m,u as x,a as g,p as h,F as c,A as f}from"./hooks-C5S8Veu0.js";import{I as j,B as v}from"./input-Cj0MnBok.js";import{w as y,F as N,v as b,x as w}from"./components-DkzrqAQC.js";import{u as S}from"./useQuery-cBqQMfa_.js";import"./QueryClientProvider-DJJDjmpK.js";import"./index-Bb4qSo10.js";import"./query-By7hmIlQ.js";const I=m.object({email:m.string().email()}),F=async()=>(await new Promise(s=>setTimeout(s,0)),"https://images.unsplash.com/photo-1546930722-a1292ed9dee8");function k(){return S({queryKey:["getImage"],queryFn:F})}const M=()=>{const t=k(),s=y(),r=x({mutationFn:a=>u.requestOtp({email:a}),onSuccess:(a,o,l)=>{p("email",o),s("/otp")}}),[i,d]=g({id:"sign-in",onValidate({formData:a}){return h(a,{schema:I})},onSubmit:(a,o)=>{var n;a.preventDefault();const l=((n=o.formData.get("email"))==null?void 0:n.toString())||"";r.mutate(l)},shouldRevalidate:"onBlur"});return{imgQuery:t,loginMutate:r,form:i,fields:d}};function A(){const{form:t,fields:s,loginMutate:r,imgQuery:i}=M();return e.jsx("div",{className:"min-h-[calc(100vh-136px)] flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-[1200px] grid md:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{className:"w-full max-w-md mx-auto space-y-6",children:[e.jsxs("div",{className:"space-y-2 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"LOGIN"}),e.jsx("p",{className:"text-gray-500",children:"Enter your email to receive a login code"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs(N,{method:"post",id:t.id,onSubmit:t.onSubmit,children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(j,{name:s.email.name,id:"email",type:"text",placeholder:"your@email.com",className:"pl-5 py-6 bg-gray-50/50"}),s.email.errors&&e.jsx(c,{errors:s.email.errors})]})}),e.jsx(c,{errors:t.errors}),e.jsx("div",{className:"h-5"}),e.jsx(v,{type:"submit",disabled:r.isPending,className:b("w-full py-6 bg-purple-600 hover:bg-purple-700",{"opacity-40":r.isPending}),children:"Send Login Code"})]})}),e.jsx("hr",{}),e.jsxs("div",{className:"text-center text-sm",children:["Don't have an account?"," ",e.jsx(w,{to:"/waitlist",className:"text-purple-600 hover:text-purple-700 font-semibold",children:"Join the waitlist"})]})]}),e.jsx("div",{className:"hidden md:block relative h-full min-h-[600px] rounded-3xl overflow-hidden bg-gradient-to-br from-purple-500 to-purple-700",children:e.jsx(f,{src:i.data||"",alt:"Street art",className:"object-cover opacity-80 w-full h-full"})})]})})}export{A as default};
