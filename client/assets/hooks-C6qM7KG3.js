import{i as ie,f as ye,h as ne,k as z,m as L,n as Z,o as ue,q as H,t as W,u as B,_ as O,v as C,w as _,x as pe,y as be,I as oe,A as he,B as Ve,C as M,D,E as Se,F as Oe,r as w,j as P}from"./sessions-C57l87vz.js";import{v as Ee}from"./components-CBt2hBVj.js";function Ie(e){return e instanceof Element&&(e.tagName==="INPUT"||e.tagName==="SELECT"||e.tagName==="TEXTAREA"||e.tagName==="BUTTON")}function K(e){return Ie(e)&&e.type!=="submit"&&e.type!=="button"&&e.type!=="reset"}function Pe(e){var r,t,a=e.target,n=e.submitter;return(r=(t=n==null?void 0:n.getAttribute("formaction"))!==null&&t!==void 0?t:a.getAttribute("action"))!==null&&r!==void 0?r:"".concat(location.pathname).concat(location.search)}function we(e){var r,t=e.target,a=e.submitter,n=(r=a==null?void 0:a.getAttribute("formenctype"))!==null&&r!==void 0?r:t.enctype;return n==="multipart/form-data"?n:"application/x-www-form-urlencoded"}function Fe(e){var r,t,a=e.target,n=e.submitter,i=(r=(t=n==null?void 0:n.getAttribute("formmethod"))!==null&&t!==void 0?t:a.getAttribute("method"))===null||r===void 0?void 0:r.toUpperCase();switch(i){case"POST":case"PUT":case"PATCH":case"DELETE":return i}return"GET"}function Ne(e,r){if(ie(!!e,"Failed to submit the form. The element provided is null or undefined."),typeof e.requestSubmit=="function")e.requestSubmit(r);else{var t=new SubmitEvent("submit",{bubbles:!0,cancelable:!0,submitter:r});e.dispatchEvent(t)}}function ee(e,r){var t,a,n,i,d,o=r?void 0:e.lastResult,v=e.defaultValue?ye(e.defaultValue):{},m=(t=o==null?void 0:o.initialValue)!==null&&t!==void 0?t:v,S={formId:e.formId,isValueUpdated:!1,submissionStatus:o==null?void 0:o.status,defaultValue:v,initialValue:m,value:m,constraint:(a=e.constraint)!==null&&a!==void 0?a:{},validated:(n=o==null||(i=o.state)===null||i===void 0?void 0:i.validated)!==null&&n!==void 0?n:{},key:r?O({"":L()},R(v)):R(v),error:(d=o==null?void 0:o.error)!==null&&d!==void 0?d:{}};return le(S,o==null?void 0:o.intent,o==null?void 0:o.fields),S}function R(e,r){return Object.entries(ne(e,{prefix:r})).reduce((t,a)=>{var[n,i]=a;if(Array.isArray(i))for(var d=0;d<i.length;d++)t[z(n,d)]=L();return t},{})}function re(e,r){for(var t of Object.keys(e.error).concat(r??[]))e.validated[t]=!0}function le(e,r,t,a){var n;if(!r){re(e,t);return}switch(r.type){case"validate":{r.payload.name?e.validated[r.payload.name]=!0:re(e,t);break}case"update":{var{validated:i,value:d}=r.payload,o=z(r.payload.name,r.payload.index);typeof d<"u"&&te(e,o??"",d),typeof i<"u"&&(o?H(e.validated,o,()=>{}):e.validated={},i?((W(d)||Array.isArray(d))&&Object.assign(e.validated,ne(d,{resolve(){return!0},prefix:o})),e.validated[o??""]=!0):o&&delete e.validated[o]);break}case"reset":{var v=z(r.payload.name,r.payload.index),m=ue(e.defaultValue,v);te(e,v,m),v?(H(e.validated,v,()=>{}),delete e.validated[v]):e.validated={};break}case"insert":case"remove":case"reorder":{a&&(e.initialValue=C(e.initialValue),e.key=C(e.key),Z(e.key,r,c=>!Array.isArray(c)&&!W(c)?L():Object.assign(R(c),{[Oe]:L()})),Ve(e.initialValue,r)),Z(e.validated,r),e.validated[r.payload.name]=!0;break}}var S=(n=t==null?void 0:t.filter(c=>e.validated[c]))!==null&&n!==void 0?n:[];e.error=Object.entries(e.error).reduce((c,E)=>{var[V,h]=E;return(e.validated[V]||S.some(I=>B(V,I)))&&(c[V]=h),c},{})}function te(e,r,t){if(r===""){e.initialValue=t,e.value=t,e.key=O(O({},R(t)),{},{"":L()});return}e.initialValue=C(e.initialValue),e.value=C(e.value),e.key=C(e.key),_(e.initialValue,r,()=>t),_(e.value,r,()=>t),(W(t)||Array.isArray(t))&&(H(e.key,r,()=>{}),Object.assign(e.key,R(t,r))),e.key[r]=L()}function x(e){var r={};return new Proxy(r,{get(t,a,n){var i;if(typeof a=="string")return(i=r[a])!==null&&i!==void 0?i:r[a]=e(a,n)}})}function J(e){var r=pe(e);return x((t,a)=>{if(t==="")return r;var n=M(t),i=D(n.slice(0,-1)),d=D(n.slice(-1)),o=a[i];return ue(o,d)})}function ke(e){return x((r,t)=>{var a,n=e[r];if(!n){for(var i=M(r),d=i.length-1;d>=0;d--){var o=i[d];if(typeof o=="number"&&!Number.isNaN(o)){i[d]=Number.NaN;break}}var v=D(i);r!==v&&(n=t[v])}return(a=n)!==null&&a!==void 0?a:{}})}function Ae(e){return x((r,t)=>{var a=e[r],n=M(r);if(n.length===0)return a;var i=t[D(n.slice(0,-1))];return typeof i>"u"?a:"".concat(i,"/").concat(a??n.at(-1))})}function je(e){return x(r=>{var t=Object.keys(e);if(r==="")return t.length===0;for(var a of t)if(B(a,r)&&typeof e[a]<"u")return!1;return!0})}function Le(e,r,t){return x(a=>JSON.stringify(e[a])!==JSON.stringify(r[a],(n,i)=>a===""&&n===""&&i?Object.entries(i).reduce((d,o)=>{var[v,m]=o;return t(v)?Object.assign(d??{},{[v]:m}):d},void 0):i))}function A(e,r,t,a){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:(V,h)=>JSON.stringify(V)!==JSON.stringify(h);if(a&&e!==r){var i,d,o=(i=a.prefix)!==null&&i!==void 0?i:[],v=(d=a.name)!==null&&d!==void 0?d:[],m=o.length===0?v:Array.from(new Set([...Object.keys(e),...Object.keys(r)])),S=function(h){if(o.length===0||v.includes(h)||o.some(T=>B(h,T))){var I;if((I=t[h])!==null&&I!==void 0||(t[h]=n(e[h],r[h])),t[h])return{v:!0}}},c;for(var E of m)if(c=S(E),c)return c.v}return!1}function Te(e){var r=[],t=e,a=ee(e),n=d(a);function i(){return document.forms.namedItem(t.formId)}function d(u){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u,l=arguments.length>2?arguments[2]:void 0,f=!l||s.defaultValue!==u.defaultValue?J(u.defaultValue):l.defaultValue,y=u.initialValue===u.defaultValue?f:!l||s.initialValue!==u.initialValue?J(u.initialValue):l.initialValue,g=u.value===u.initialValue?y:!l||s.value!==u.value?J(u.value):l.value;return{submissionStatus:u.submissionStatus,defaultValue:f,initialValue:y,value:g,error:!l||s.error!==u.error?u.error:l.error,validated:u.validated,constraint:!l||s.constraint!==u.constraint?ke(u.constraint):l.constraint,key:!l||s.key!==u.key?Ae(u.key):l.key,valid:!l||s.error!==u.error?je(u.error):l.valid,dirty:!l||s.defaultValue!==u.defaultValue||s.value!==u.value?Le(f,g,p=>{var b,N;return(b=(N=t.shouldDirtyConsider)===null||N===void 0?void 0:N.call(t,p))!==null&&b!==void 0?b:!0}):l.dirty}}function o(u){var s=a,l=n,f=d(u,s,l);a=u,n=f;var y={value:{},error:{},initialValue:{},key:{},valid:{},dirty:{}};for(var g of r){var p,b=(p=g.getSubject)===null||p===void 0?void 0:p.call(g);(!b||b.formId&&s.formId!==u.formId||b.status&&l.submissionStatus!==f.submissionStatus||A(l.error,f.error,y.error,b.error)||A(l.initialValue,f.initialValue,y.initialValue,b.initialValue)||A(l.key,f.key,y.key,b.key,(N,U)=>N!==U)||A(l.valid,f.valid,y.valid,b.valid,v)||A(l.dirty,f.dirty,y.dirty,b.dirty,v)||A(l.value,f.value,y.value,b.value))&&g.callback()}}function v(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return u!==s}function m(){return JSON.stringify({validated:a.validated})}function S(u){var s=u.target,l=u.submitter;ie(s===i(),"The submit event is dispatched by form#".concat(s.id," instead of form#").concat(t.formId));var f=be(s,l),y={formData:f,action:Pe(u),encType:we(u),method:Fe(u)};if(typeof(t==null?void 0:t.onValidate)>"u")return y;var g=t.onValidate({form:s,formData:f,submitter:l});if(g.status==="success"||g.error!==null){var p=g.reply();G(O(O({},p),{},{status:p.status!=="success"?p.status:void 0}))}return O(O({},y),{},{submission:g})}function c(u){var s=i(),l=u.target;return!s||!K(l)||l.form!==s||!l.form.isConnected||l.name===""?null:l}function E(u,s){var{shouldValidate:l="onSubmit",shouldRevalidate:f=l}=t,y=a.validated[u.name];return y?f===s&&(s==="onInput"||a.isValueUpdated):l===s}function V(u){var s=new FormData(u),l=Se(s);o(O(O({},a),{},{isValueUpdated:!0,value:l.payload}))}function h(u){var s=c(u);!s||!s.form||(u.defaultPrevented||!E(s,"onInput")?V(s.form):q({type:"validate",payload:{name:s.name}}))}function I(u){var s=c(u);!s||u.defaultPrevented||!E(s,"onBlur")||q({type:"validate",payload:{name:s.name}})}function T(){o(ee(t,!0))}function ve(u){var s=i();u.type!=="reset"||u.target!==s||u.defaultPrevented||T()}function G(u){var s,l,f=i();if(!u.initialValue){T();return}var y=Object.entries((s=u.error)!==null&&s!==void 0?s:{}).reduce((b,N)=>{var[U,Q]=N,Y=Q===null?a.error[U]:Q;return Y&&(b[U]=Y),b},{}),g=O(O({},a),{},{isValueUpdated:!1,submissionStatus:u.status,value:u.initialValue,validated:O(O({},a.validated),(l=u.state)===null||l===void 0?void 0:l.validated),error:y});if(le(g,u.intent,u.fields,!0),o(g),f&&u.status==="error"){for(var p of f.elements)if(K(p)&&a.error[p.name]){p.focus();break}}}function fe(u){var s=t.formId,l=t.lastResult;Object.assign(t,u),t.formId!==s?T():u.lastResult&&u.lastResult!==l&&G(u.lastResult)}function ce(u,s){var l={callback:u,getSubject:s};return r.push(l),()=>{r=r.filter(f=>f!==l)}}function me(){return n}function q(u){var s=i(),l=document.createElement("button"),f=X(u);l.name=f.name,l.value=f.value,l.hidden=!0,l.formNoValidate=!0,s==null||s.appendChild(l),Ne(s,l),s==null||s.removeChild(l)}function X(u){return{name:oe,value:he(u),form:t.formId,formNoValidate:!0}}function k(u){var s=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return q({type:u,payload:f})};return Object.assign(s,{getButtonProps(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return X({type:u,payload:l})}})}function ge(){var u=new MutationObserver(s=>{var l=i();if(l)for(var f of s){var y=f.type==="childList"?[...f.addedNodes,...f.removedNodes]:[f.target];for(var g of y){var p=K(g)?g:g instanceof HTMLElement?g.querySelector("input,select,textarea"):null;if((p==null?void 0:p.form)===l){V(l);return}}}});return u.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["form","name"]}),()=>{u.disconnect()}}return{getFormId(){return a.formId},submit:S,onReset:ve,onInput:h,onBlur:I,onUpdate:fe,validate:k("validate"),reset:k("reset"),update:k("update"),insert:k("insert"),remove:k("remove"),reorder:k("reorder"),subscribe:ce,getState:me,getSerializedState:m,observe:ge}}const Xe=e=>{const{src:r,alt:t,className:a,height:n,width:i}=e,[d,o]=w.useState(!0),[v,m]=w.useState(!1),[S,c]=w.useState("");w.useEffect(()=>{(async()=>{try{const I=typeof r=="string"?r:await r;c(I)}catch{m(!0),o(!1)}})()},[r]);const E=()=>{o(!1)},V=()=>{o(!1),m(!0)};return P.jsxs(P.Fragment,{children:[d&&P.jsx("div",{className:"absolute inset-0 overflow-hidden",children:P.jsx("div",{className:"absolute inset-0 bg-gray-200",children:P.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_2s_infinite] bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200"})})}),v&&P.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:P.jsx("p",{className:"text-gray-500",children:"Failed to load image"})}),S&&P.jsx("img",{src:S,alt:t,className:Ee(d&&"invisible",a),height:n,width:i,onLoad:E,onError:V})]})},Qe=({errors:e})=>e?P.jsx("div",{className:"text-red-500 mt-1 text-sm left-0",children:e.map((r,t)=>P.jsx("div",{children:r},t+r))}):P.jsx(P.Fragment,{});function ae(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}function F(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ae(Object(t),!0).forEach(function(a){Ce(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ae(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Ce(e,r,t){return r=Ue(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function De(e,r){if(e==null)return{};var t={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(r.indexOf(n)>=0)&&(t[n]=e[n]);return t}function Re(e,r){if(e==null)return{};var t=De(e,r),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}function xe(e,r){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ue(e){var r=xe(e,"string");return typeof r=="symbol"?r:String(r)}var Be=Symbol("wrapped");function Me(e,r){var t=w.useCallback(a=>e.subscribe(a,()=>r==null?void 0:r.current),[e,r]);return w.useSyncExternalStore(t,e.getState,e.getState)}function qe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=w.useRef(e);return r.current=e,r}function j(e,r,t,a){if(r==="status"||r==="formId")e.current[r]=!0;else if(typeof t<"u"&&typeof a<"u"){var n,i;e.current[r]=F(F({},e.current[r]),{},{[t]:((n=(i=e.current[r])===null||i===void 0?void 0:i[t])!==null&&n!==void 0?n:[]).concat(a)})}}function se(e,r,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",n=a?"".concat(e.getFormId(),"-").concat(a):e.getFormId(),i=e.getState();return new Proxy({id:n,name:a,errorId:"".concat(n,"-error"),descriptionId:"".concat(n,"-description"),get initialValue(){return i.initialValue[a]},get value(){return i.value[a]},get errors(){return i.error[a]},get key(){return i.key[a]},get valid(){return i.valid[a]},get dirty(){return i.dirty[a]},get allErrors(){if(a==="")return i.error;var d={};for(var[o,v]of Object.entries(i.error))B(o,a)&&(d[o]=v);return d},get getFieldset(){return()=>new Proxy({},{get(d,o,v){return typeof o=="string"?de(e,r,t,a,o):Reflect.get(d,o,v)}})}},{get(d,o,v){if(i===t)switch(o){case"id":case"errorId":case"descriptionId":j(r,"formId");break;case"key":case"initialValue":case"value":case"valid":case"dirty":j(r,o,"name",a);break;case"errors":case"allErrors":j(r,"error",o==="errors"?"name":"prefix",a);break}return Reflect.get(d,o,v)}})}function de(e,r,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",n=arguments.length>4?arguments[4]:void 0,i=typeof n>"u"?a:D([...M(a),n]);return new Proxy({},{get(d,o,v){var m,S=se(e,r,t,i),c=e.getState();switch(o){case"formId":return c===t&&j(r,"formId"),e.getFormId();case"required":case"minLength":case"maxLength":case"min":case"max":case"pattern":case"step":case"multiple":return(m=c.constraint[i])===null||m===void 0?void 0:m[o];case"getFieldList":return()=>{var E,V=(E=c.initialValue[i])!==null&&E!==void 0?E:[];if(c===t&&j(r,"initialValue","name",i),!Array.isArray(V))throw new Error("The initial value at the given name is not a list");return Array(V.length).fill(0).map((h,I)=>de(e,r,t,i,I))}}return Reflect.get(S,o,v)}})}function Ke(e,r,t,a){return new Proxy({},{get(n,i,d){var o=se(e,r,t),v=e.getState();switch(i){case"context":return{[Be]:e};case"status":return v===t&&j(r,"status"),v.submissionStatus;case"validate":case"update":case"reset":case"insert":case"remove":case"reorder":return e[i];case"onSubmit":return e.submit;case"noValidate":return a}return Reflect.get(o,i,d)}})}function Je(e){var{onSubmit:r}=e,t=Te(e);return F(F({},t),{},{submit(a){var n=a.nativeEvent,i=t.submit(n);if(!i.submission||i.submission.status==="success"||i.submission.error===null){if(!i.formData.has(oe)){var d;(d=r)===null||d===void 0||d(a,i)}}else a.preventDefault()},onUpdate(a){r=a.onSubmit,t.onUpdate(a)}})}var ze=["id"],$=typeof document>"u"?w.useEffect:w.useLayoutEffect;function He(e){var r=w.useId();return e??r}function We(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,[r,t]=w.useState(e);return $(()=>{r||t(!0)},[r]),r}function Ye(e){var{id:r}=e,t=Re(e,ze),a=He(r),[n]=w.useState(()=>Je(F(F({},t),{},{formId:a})));$(()=>{var m=n.observe();return document.addEventListener("input",n.onInput),document.addEventListener("focusout",n.onBlur),document.addEventListener("reset",n.onReset),()=>{m(),document.removeEventListener("input",n.onInput),document.removeEventListener("focusout",n.onBlur),document.removeEventListener("reset",n.onReset)}},[n]),$(()=>{n.onUpdate(F(F({},t),{},{formId:a}))});var i=qe(),d=Me(n,i),o=We(e.defaultNoValidate),v=Ke(n,i,d,o);return[v,v.getFieldset()]}export{Xe as A,Qe as F,Ye as u};
