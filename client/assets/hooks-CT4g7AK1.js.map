{"version":3,"file":"hooks-CT4g7AK1.js","sources":["../../../node_modules/.pnpm/@conform-to+dom@1.2.2/node_modules/@conform-to/dom/dom.mjs","../../../node_modules/.pnpm/@conform-to+dom@1.2.2/node_modules/@conform-to/dom/form.mjs","../../../app/components/form-error.tsx","../../../node_modules/.pnpm/@conform-to+react@1.2.2_react@18.3.1/node_modules/@conform-to/react/_virtual/_rollupPluginBabelHelpers.mjs","../../../node_modules/.pnpm/@conform-to+react@1.2.2_react@18.3.1/node_modules/@conform-to/react/context.mjs","../../../node_modules/.pnpm/@conform-to+react@1.2.2_react@18.3.1/node_modules/@conform-to/react/hooks.mjs"],"sourcesContent":["import { invariant } from './util.mjs';\n\n/**\n * Element that user can interact with,\n * includes `<input>`, `<select>` and `<textarea>`.\n */\n\n/**\n * HTML Element that can be used as a form control,\n * includes `<input>`, `<select>`, `<textarea>` and `<button>`.\n */\n\n/**\n * Form Control element. It can either be a submit button or a submit input.\n */\n\n/**\n * A type guard to check if the provided element is a form control\n */\nfunction isFormControl(element) {\n  return element instanceof Element && (element.tagName === 'INPUT' || element.tagName === 'SELECT' || element.tagName === 'TEXTAREA' || element.tagName === 'BUTTON');\n}\n\n/**\n * A type guard to check if the provided element is a field element, which\n * is a form control excluding submit, button and reset type.\n */\nfunction isFieldElement(element) {\n  return isFormControl(element) && element.type !== 'submit' && element.type !== 'button' && element.type !== 'reset';\n}\n\n/**\n * Resolves the action from the submit event\n * with respect to the submitter `formaction` attribute.\n */\nfunction getFormAction(event) {\n  var _ref, _submitter$getAttribu;\n  var form = event.target;\n  var submitter = event.submitter;\n  return (_ref = (_submitter$getAttribu = submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute('formaction')) !== null && _submitter$getAttribu !== void 0 ? _submitter$getAttribu : form.getAttribute('action')) !== null && _ref !== void 0 ? _ref : \"\".concat(location.pathname).concat(location.search);\n}\n\n/**\n * Resolves the encoding type from the submit event\n * with respect to the submitter `formenctype` attribute.\n */\nfunction getFormEncType(event) {\n  var _submitter$getAttribu2;\n  var form = event.target;\n  var submitter = event.submitter;\n  var encType = (_submitter$getAttribu2 = submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute('formenctype')) !== null && _submitter$getAttribu2 !== void 0 ? _submitter$getAttribu2 : form.enctype;\n  if (encType === 'multipart/form-data') {\n    return encType;\n  }\n  return 'application/x-www-form-urlencoded';\n}\n\n/**\n * Resolves the method from the submit event\n * with respect to the submitter `formmethod` attribute.\n */\nfunction getFormMethod(event) {\n  var _ref2, _submitter$getAttribu3;\n  var form = event.target;\n  var submitter = event.submitter;\n  var method = (_ref2 = (_submitter$getAttribu3 = submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute('formmethod')) !== null && _submitter$getAttribu3 !== void 0 ? _submitter$getAttribu3 : form.getAttribute('method')) === null || _ref2 === void 0 ? void 0 : _ref2.toUpperCase();\n  switch (method) {\n    case 'POST':\n    case 'PUT':\n    case 'PATCH':\n    case 'DELETE':\n      return method;\n  }\n  return 'GET';\n}\n\n/**\n * Trigger a form submit event with an optional submitter.\n * If the submitter is not mounted, it will be appended to the form and removed after submission.\n */\nfunction requestSubmit(form, submitter) {\n  invariant(!!form, 'Failed to submit the form. The element provided is null or undefined.');\n  if (typeof form.requestSubmit === 'function') {\n    form.requestSubmit(submitter);\n  } else {\n    var event = new SubmitEvent('submit', {\n      bubbles: true,\n      cancelable: true,\n      submitter\n    });\n    form.dispatchEvent(event);\n  }\n}\n\nexport { getFormAction, getFormEncType, getFormMethod, isFieldElement, isFormControl, requestSubmit };\n","import { objectSpread2 as _objectSpread2 } from './_virtual/_rollupPluginBabelHelpers.mjs';\nimport { flatten, formatName, getValue, isPlainObject, isPrefix, setValue, normalize, getFormData, getPaths, formatPaths } from './formdata.mjs';\nimport { getFormAction, getFormEncType, getFormMethod, isFieldElement, requestSubmit } from './dom.mjs';\nimport { generateId, clone, invariant } from './util.mjs';\nimport { serialize, setListState, setListValue, setState, INTENT, serializeIntent, root, getSubmissionContext } from './submission.mjs';\n\nfunction createFormMeta(options, initialized) {\n  var _lastResult$initialVa, _options$constraint, _lastResult$state$val, _lastResult$state, _ref;\n  var lastResult = !initialized ? options.lastResult : undefined;\n  var defaultValue = options.defaultValue ? serialize(options.defaultValue) : {};\n  var initialValue = (_lastResult$initialVa = lastResult === null || lastResult === void 0 ? void 0 : lastResult.initialValue) !== null && _lastResult$initialVa !== void 0 ? _lastResult$initialVa : defaultValue;\n  var result = {\n    formId: options.formId,\n    isValueUpdated: false,\n    submissionStatus: lastResult === null || lastResult === void 0 ? void 0 : lastResult.status,\n    defaultValue,\n    initialValue,\n    value: initialValue,\n    constraint: (_options$constraint = options.constraint) !== null && _options$constraint !== void 0 ? _options$constraint : {},\n    validated: (_lastResult$state$val = lastResult === null || lastResult === void 0 || (_lastResult$state = lastResult.state) === null || _lastResult$state === void 0 ? void 0 : _lastResult$state.validated) !== null && _lastResult$state$val !== void 0 ? _lastResult$state$val : {},\n    key: !initialized ? getDefaultKey(defaultValue) : _objectSpread2({\n      '': generateId()\n    }, getDefaultKey(defaultValue)),\n    // The `lastResult` should comes from the server which we won't expect the error to be null\n    // We can consider adding a warning if it happens\n    error: (_ref = lastResult === null || lastResult === void 0 ? void 0 : lastResult.error) !== null && _ref !== void 0 ? _ref : {}\n  };\n  handleIntent(result, lastResult === null || lastResult === void 0 ? void 0 : lastResult.intent, lastResult === null || lastResult === void 0 ? void 0 : lastResult.fields);\n  return result;\n}\nfunction getDefaultKey(defaultValue, prefix) {\n  return Object.entries(flatten(defaultValue, {\n    prefix\n  })).reduce((result, _ref2) => {\n    var [key, value] = _ref2;\n    if (Array.isArray(value)) {\n      for (var i = 0; i < value.length; i++) {\n        result[formatName(key, i)] = generateId();\n      }\n    }\n    return result;\n  }, {});\n}\nfunction setFieldsValidated(meta, fields) {\n  for (var _name of Object.keys(meta.error).concat(fields !== null && fields !== void 0 ? fields : [])) {\n    meta.validated[_name] = true;\n  }\n}\nfunction handleIntent(meta, intent, fields, initialized) {\n  var _fields$filter;\n  if (!intent) {\n    setFieldsValidated(meta, fields);\n    return;\n  }\n  switch (intent.type) {\n    case 'validate':\n      {\n        if (intent.payload.name) {\n          meta.validated[intent.payload.name] = true;\n        } else {\n          setFieldsValidated(meta, fields);\n        }\n        break;\n      }\n    case 'update':\n      {\n        var {\n          validated,\n          value\n        } = intent.payload;\n        var _name2 = formatName(intent.payload.name, intent.payload.index);\n        if (typeof value !== 'undefined') {\n          updateValue(meta, _name2 !== null && _name2 !== void 0 ? _name2 : '', value);\n        }\n        if (typeof validated !== 'undefined') {\n          // Clean up previous validated state\n          if (_name2) {\n            setState(meta.validated, _name2, () => undefined);\n          } else {\n            meta.validated = {};\n          }\n          if (validated) {\n            if (isPlainObject(value) || Array.isArray(value)) {\n              Object.assign(meta.validated, flatten(value, {\n                resolve() {\n                  return true;\n                },\n                prefix: _name2\n              }));\n            }\n            meta.validated[_name2 !== null && _name2 !== void 0 ? _name2 : ''] = true;\n          } else if (_name2) {\n            delete meta.validated[_name2];\n          }\n        }\n        break;\n      }\n    case 'reset':\n      {\n        var _name3 = formatName(intent.payload.name, intent.payload.index);\n        var _value = getValue(meta.defaultValue, _name3);\n        updateValue(meta, _name3, _value);\n        if (_name3) {\n          setState(meta.validated, _name3, () => undefined);\n          delete meta.validated[_name3];\n        } else {\n          meta.validated = {};\n        }\n        break;\n      }\n    case 'insert':\n    case 'remove':\n    case 'reorder':\n      {\n        if (initialized) {\n          meta.initialValue = clone(meta.initialValue);\n          meta.key = clone(meta.key);\n          setListState(meta.key, intent, defaultValue => {\n            if (!Array.isArray(defaultValue) && !isPlainObject(defaultValue)) {\n              return generateId();\n            }\n            return Object.assign(getDefaultKey(defaultValue), {\n              [root]: generateId()\n            });\n          });\n          setListValue(meta.initialValue, intent);\n        }\n        setListState(meta.validated, intent);\n        meta.validated[intent.payload.name] = true;\n        break;\n      }\n  }\n  var validatedFields = (_fields$filter = fields === null || fields === void 0 ? void 0 : fields.filter(name => meta.validated[name])) !== null && _fields$filter !== void 0 ? _fields$filter : [];\n  meta.error = Object.entries(meta.error).reduce((result, _ref3) => {\n    var [name, error] = _ref3;\n    if (meta.validated[name] || validatedFields.some(field => isPrefix(name, field))) {\n      result[name] = error;\n    }\n    return result;\n  }, {});\n}\nfunction updateValue(meta, name, value) {\n  if (name === '') {\n    meta.initialValue = value;\n    meta.value = value;\n    meta.key = _objectSpread2(_objectSpread2({}, getDefaultKey(value)), {}, {\n      '': generateId()\n    });\n    return;\n  }\n  meta.initialValue = clone(meta.initialValue);\n  meta.value = clone(meta.value);\n  meta.key = clone(meta.key);\n  setValue(meta.initialValue, name, () => value);\n  setValue(meta.value, name, () => value);\n  if (isPlainObject(value) || Array.isArray(value)) {\n    setState(meta.key, name, () => undefined);\n    Object.assign(meta.key, getDefaultKey(value, name));\n  }\n  meta.key[name] = generateId();\n}\nfunction createStateProxy(fn) {\n  var cache = {};\n  return new Proxy(cache, {\n    get(_, name, receiver) {\n      var _cache$name;\n      if (typeof name !== 'string') {\n        return;\n      }\n      return (_cache$name = cache[name]) !== null && _cache$name !== void 0 ? _cache$name : cache[name] = fn(name, receiver);\n    }\n  });\n}\nfunction createValueProxy(value) {\n  var val = normalize(value);\n  return createStateProxy((name, proxy) => {\n    if (name === '') {\n      return val;\n    }\n    var paths = getPaths(name);\n    var basename = formatPaths(paths.slice(0, -1));\n    var key = formatPaths(paths.slice(-1));\n    var parentValue = proxy[basename];\n    return getValue(parentValue, key);\n  });\n}\nfunction createConstraintProxy(constraint) {\n  return createStateProxy((name, proxy) => {\n    var _result;\n    var result = constraint[name];\n    if (!result) {\n      var paths = getPaths(name);\n      for (var i = paths.length - 1; i >= 0; i--) {\n        var path = paths[i];\n        if (typeof path === 'number' && !Number.isNaN(path)) {\n          paths[i] = Number.NaN;\n          break;\n        }\n      }\n      var alternative = formatPaths(paths);\n      if (name !== alternative) {\n        result = proxy[alternative];\n      }\n    }\n    return (_result = result) !== null && _result !== void 0 ? _result : {};\n  });\n}\nfunction createKeyProxy(key) {\n  return createStateProxy((name, proxy) => {\n    var currentKey = key[name];\n    var paths = getPaths(name);\n    if (paths.length === 0) {\n      return currentKey;\n    }\n    var parentKey = proxy[formatPaths(paths.slice(0, -1))];\n    if (typeof parentKey === 'undefined') {\n      return currentKey;\n    }\n    return \"\".concat(parentKey, \"/\").concat(currentKey !== null && currentKey !== void 0 ? currentKey : paths.at(-1));\n  });\n}\nfunction createValidProxy(error) {\n  return createStateProxy(name => {\n    var keys = Object.keys(error);\n    if (name === '') {\n      return keys.length === 0;\n    }\n    for (var key of keys) {\n      if (isPrefix(key, name) && typeof error[key] !== 'undefined') {\n        return false;\n      }\n    }\n    return true;\n  });\n}\nfunction createDirtyProxy(defaultValue, value, shouldDirtyConsider) {\n  return createStateProxy(name => JSON.stringify(defaultValue[name]) !== JSON.stringify(value[name], (key, value) => {\n    if (name === '' && key === '' && value) {\n      return Object.entries(value).reduce((result, _ref4) => {\n        var [name, value] = _ref4;\n        if (!shouldDirtyConsider(name)) {\n          return result;\n        }\n        return Object.assign(result !== null && result !== void 0 ? result : {}, {\n          [name]: value\n        });\n      }, undefined);\n    }\n    return value;\n  }));\n}\nfunction shouldNotify(prev, next, cache, scope) {\n  var compareFn = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : (prev, next) => JSON.stringify(prev) !== JSON.stringify(next);\n  if (scope && prev !== next) {\n    var _scope$prefix, _scope$name;\n    var prefixes = (_scope$prefix = scope.prefix) !== null && _scope$prefix !== void 0 ? _scope$prefix : [];\n    var names = (_scope$name = scope.name) !== null && _scope$name !== void 0 ? _scope$name : [];\n    var list = prefixes.length === 0 ? names : Array.from(new Set([...Object.keys(prev), ...Object.keys(next)]));\n    var _loop = function _loop(_name4) {\n        if (prefixes.length === 0 || names.includes(_name4) || prefixes.some(prefix => isPrefix(_name4, prefix))) {\n          var _cache$_name;\n          (_cache$_name = cache[_name4]) !== null && _cache$_name !== void 0 ? _cache$_name : cache[_name4] = compareFn(prev[_name4], next[_name4]);\n          if (cache[_name4]) {\n            return {\n              v: true\n            };\n          }\n        }\n      },\n      _ret;\n    for (var _name4 of list) {\n      _ret = _loop(_name4);\n      if (_ret) return _ret.v;\n    }\n  }\n  return false;\n}\nfunction createFormContext(options) {\n  var subscribers = [];\n  var latestOptions = options;\n  var meta = createFormMeta(options);\n  var state = createFormState(meta);\n  function getFormElement() {\n    return document.forms.namedItem(latestOptions.formId);\n  }\n  function createFormState(next) {\n    var prev = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : next;\n    var state = arguments.length > 2 ? arguments[2] : undefined;\n    var defaultValue = !state || prev.defaultValue !== next.defaultValue ? createValueProxy(next.defaultValue) : state.defaultValue;\n    var initialValue = next.initialValue === next.defaultValue ? defaultValue : !state || prev.initialValue !== next.initialValue ? createValueProxy(next.initialValue) : state.initialValue;\n    var value = next.value === next.initialValue ? initialValue : !state || prev.value !== next.value ? createValueProxy(next.value) : state.value;\n    return {\n      submissionStatus: next.submissionStatus,\n      defaultValue,\n      initialValue,\n      value,\n      error: !state || prev.error !== next.error ? next.error : state.error,\n      validated: next.validated,\n      constraint: !state || prev.constraint !== next.constraint ? createConstraintProxy(next.constraint) : state.constraint,\n      key: !state || prev.key !== next.key ? createKeyProxy(next.key) : state.key,\n      valid: !state || prev.error !== next.error ? createValidProxy(next.error) : state.valid,\n      dirty: !state || prev.defaultValue !== next.defaultValue || prev.value !== next.value ? createDirtyProxy(defaultValue, value, key => {\n        var _latestOptions$should, _latestOptions$should2;\n        return (_latestOptions$should = (_latestOptions$should2 = latestOptions.shouldDirtyConsider) === null || _latestOptions$should2 === void 0 ? void 0 : _latestOptions$should2.call(latestOptions, key)) !== null && _latestOptions$should !== void 0 ? _latestOptions$should : true;\n      }) : state.dirty\n    };\n  }\n  function updateFormMeta(nextMeta) {\n    var prevMeta = meta;\n    var prevState = state;\n    var nextState = createFormState(nextMeta, prevMeta, prevState);\n\n    // Apply change before notifying subscribers\n    meta = nextMeta;\n    state = nextState;\n    var cache = {\n      value: {},\n      error: {},\n      initialValue: {},\n      key: {},\n      valid: {},\n      dirty: {}\n    };\n    for (var subscriber of subscribers) {\n      var _subscriber$getSubjec;\n      var subject = (_subscriber$getSubjec = subscriber.getSubject) === null || _subscriber$getSubjec === void 0 ? void 0 : _subscriber$getSubjec.call(subscriber);\n      if (!subject || subject.formId && prevMeta.formId !== nextMeta.formId || subject.status && prevState.submissionStatus !== nextState.submissionStatus || shouldNotify(prevState.error, nextState.error, cache.error, subject.error) || shouldNotify(prevState.initialValue, nextState.initialValue, cache.initialValue, subject.initialValue) || shouldNotify(prevState.key, nextState.key, cache.key, subject.key, (prev, next) => prev !== next) || shouldNotify(prevState.valid, nextState.valid, cache.valid, subject.valid, compareBoolean) || shouldNotify(prevState.dirty, nextState.dirty, cache.dirty, subject.dirty, compareBoolean) || shouldNotify(prevState.value, nextState.value, cache.value, subject.value)) {\n        subscriber.callback();\n      }\n    }\n  }\n  function compareBoolean() {\n    var prev = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var next = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    return prev !== next;\n  }\n  function getSerializedState() {\n    return JSON.stringify({\n      validated: meta.validated\n    });\n  }\n  function submit(event) {\n    var form = event.target;\n    var submitter = event.submitter;\n    invariant(form === getFormElement(), \"The submit event is dispatched by form#\".concat(form.id, \" instead of form#\").concat(latestOptions.formId));\n    var formData = getFormData(form, submitter);\n    var result = {\n      formData,\n      action: getFormAction(event),\n      encType: getFormEncType(event),\n      method: getFormMethod(event)\n    };\n    if (typeof (latestOptions === null || latestOptions === void 0 ? void 0 : latestOptions.onValidate) === 'undefined') {\n      return result;\n    }\n    var submission = latestOptions.onValidate({\n      form,\n      formData,\n      submitter\n    });\n    if (submission.status === 'success' || submission.error !== null) {\n      var _result2 = submission.reply();\n      report(_objectSpread2(_objectSpread2({}, _result2), {}, {\n        status: _result2.status !== 'success' ? _result2.status : undefined\n      }));\n    }\n    return _objectSpread2(_objectSpread2({}, result), {}, {\n      submission\n    });\n  }\n  function resolveTarget(event) {\n    var form = getFormElement();\n    var element = event.target;\n    if (!form || !isFieldElement(element) || element.form !== form || !element.form.isConnected || element.name === '') {\n      return null;\n    }\n    return element;\n  }\n  function willValidate(element, eventName) {\n    var {\n      shouldValidate = 'onSubmit',\n      shouldRevalidate = shouldValidate\n    } = latestOptions;\n    var validated = meta.validated[element.name];\n    return validated ? shouldRevalidate === eventName && (eventName === 'onInput' || meta.isValueUpdated) : shouldValidate === eventName;\n  }\n  function updateFormValue(form) {\n    var formData = new FormData(form);\n    var result = getSubmissionContext(formData);\n    updateFormMeta(_objectSpread2(_objectSpread2({}, meta), {}, {\n      isValueUpdated: true,\n      value: result.payload\n    }));\n  }\n  function onInput(event) {\n    var element = resolveTarget(event);\n    if (!element || !element.form) {\n      return;\n    }\n    if (event.defaultPrevented || !willValidate(element, 'onInput')) {\n      updateFormValue(element.form);\n    } else {\n      dispatch({\n        type: 'validate',\n        payload: {\n          name: element.name\n        }\n      });\n    }\n  }\n  function onBlur(event) {\n    var element = resolveTarget(event);\n    if (!element || event.defaultPrevented || !willValidate(element, 'onBlur')) {\n      return;\n    }\n    dispatch({\n      type: 'validate',\n      payload: {\n        name: element.name\n      }\n    });\n  }\n  function reset() {\n    updateFormMeta(createFormMeta(latestOptions, true));\n  }\n  function onReset(event) {\n    var element = getFormElement();\n    if (event.type !== 'reset' || event.target !== element || event.defaultPrevented) {\n      return;\n    }\n    reset();\n  }\n  function report(result) {\n    var _result$error, _result$state;\n    var formElement = getFormElement();\n    if (!result.initialValue) {\n      reset();\n      return;\n    }\n    var error = Object.entries((_result$error = result.error) !== null && _result$error !== void 0 ? _result$error : {}).reduce((result, _ref5) => {\n      var [name, newError] = _ref5;\n      var error = newError === null ? meta.error[name] : newError;\n      if (error) {\n        result[name] = error;\n      }\n      return result;\n    }, {});\n    var update = _objectSpread2(_objectSpread2({}, meta), {}, {\n      isValueUpdated: false,\n      submissionStatus: result.status,\n      value: result.initialValue,\n      validated: _objectSpread2(_objectSpread2({}, meta.validated), (_result$state = result.state) === null || _result$state === void 0 ? void 0 : _result$state.validated),\n      error\n    });\n    handleIntent(update, result.intent, result.fields, true);\n    updateFormMeta(update);\n    if (formElement && result.status === 'error') {\n      for (var element of formElement.elements) {\n        if (isFieldElement(element) && meta.error[element.name]) {\n          element.focus();\n          break;\n        }\n      }\n    }\n  }\n  function onUpdate(options) {\n    var currentFormId = latestOptions.formId;\n    var currentResult = latestOptions.lastResult;\n\n    // Merge new options with the latest options\n    Object.assign(latestOptions, options);\n    if (latestOptions.formId !== currentFormId) {\n      reset();\n    } else if (options.lastResult && options.lastResult !== currentResult) {\n      report(options.lastResult);\n    }\n  }\n  function subscribe(callback, getSubject) {\n    var subscriber = {\n      callback,\n      getSubject\n    };\n    subscribers.push(subscriber);\n    return () => {\n      subscribers = subscribers.filter(current => current !== subscriber);\n    };\n  }\n  function getState() {\n    return state;\n  }\n  function dispatch(intent) {\n    var form = getFormElement();\n    var submitter = document.createElement('button');\n    var buttonProps = getControlButtonProps(intent);\n    submitter.name = buttonProps.name;\n    submitter.value = buttonProps.value;\n    submitter.hidden = true;\n    submitter.formNoValidate = true;\n    form === null || form === void 0 || form.appendChild(submitter);\n    requestSubmit(form, submitter);\n    form === null || form === void 0 || form.removeChild(submitter);\n  }\n  function getControlButtonProps(intent) {\n    return {\n      name: INTENT,\n      value: serializeIntent(intent),\n      form: latestOptions.formId,\n      formNoValidate: true\n    };\n  }\n  function createFormControl(type) {\n    var control = function control() {\n      var payload = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return dispatch({\n        type,\n        payload\n      });\n    };\n    return Object.assign(control, {\n      getButtonProps() {\n        var payload = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return getControlButtonProps({\n          type,\n          payload\n        });\n      }\n    });\n  }\n  function observe() {\n    var observer = new MutationObserver(mutations => {\n      var form = getFormElement();\n      if (!form) {\n        return;\n      }\n      for (var mutation of mutations) {\n        var nodes = mutation.type === 'childList' ? [...mutation.addedNodes, ...mutation.removedNodes] : [mutation.target];\n        for (var node of nodes) {\n          var element = isFieldElement(node) ? node : node instanceof HTMLElement ? node.querySelector('input,select,textarea') : null;\n          if ((element === null || element === void 0 ? void 0 : element.form) === form) {\n            updateFormValue(form);\n            return;\n          }\n        }\n      }\n    });\n    observer.observe(document, {\n      subtree: true,\n      childList: true,\n      attributes: true,\n      attributeFilter: ['form', 'name']\n    });\n    return () => {\n      observer.disconnect();\n    };\n  }\n  return {\n    getFormId() {\n      return meta.formId;\n    },\n    submit,\n    onReset,\n    onInput,\n    onBlur,\n    onUpdate,\n    validate: createFormControl('validate'),\n    reset: createFormControl('reset'),\n    update: createFormControl('update'),\n    insert: createFormControl('insert'),\n    remove: createFormControl('remove'),\n    reorder: createFormControl('reorder'),\n    subscribe,\n    getState,\n    getSerializedState,\n    observe\n  };\n}\n\nexport { createFormContext };\n","export const FormError = ({ errors }: { errors: string[] | undefined }) => {\n   if (!errors) return <></>;\n   return (\n      <div className=\"text-red-500 mt-1 left-0\">\n         {errors.map((error, index) => (\n            <div key={index + error}>{error}</div>\n         ))}\n      </div>\n   );\n};\n","function ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nexport { _defineProperty as defineProperty, _objectSpread2 as objectSpread2, _objectWithoutProperties as objectWithoutProperties, _objectWithoutPropertiesLoose as objectWithoutPropertiesLoose, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey };\n","import { objectSpread2 as _objectSpread2 } from './_virtual/_rollupPluginBabelHelpers.mjs';\nimport { STATE, formatPaths, getPaths, unstable_createFormContext, INTENT, isPrefix } from '@conform-to/dom';\nimport { useContext, useMemo, createContext, useCallback, useSyncExternalStore, useRef } from 'react';\nimport { jsx } from 'react/jsx-runtime';\n\nvar Form = /*#__PURE__*/createContext([]);\n\n// To hide the FormContext type from the public API\nvar wrappedSymbol = Symbol('wrapped');\nfunction getWrappedFormContext(context) {\n  return context[wrappedSymbol];\n}\nfunction useFormContext(formId) {\n  var contexts = useContext(Form);\n  var form = formId ? contexts.find(context => formId === context.getFormId()) : contexts[0];\n  if (!form) {\n    throw new Error('Form context is not available');\n  }\n  return form;\n}\nfunction useFormState(form, subjectRef) {\n  var subscribe = useCallback(callback => form.subscribe(callback, () => subjectRef === null || subjectRef === void 0 ? void 0 : subjectRef.current), [form, subjectRef]);\n  return useSyncExternalStore(subscribe, form.getState, form.getState);\n}\nfunction FormProvider(props) {\n  var forms = useContext(Form);\n  var context = getWrappedFormContext(props.context);\n  var value = useMemo(() => [context].concat(forms),\n  // Put the latest form context first\n  [forms, context]);\n  return /*#__PURE__*/jsx(Form.Provider, {\n    value: value,\n    children: props.children\n  });\n}\nfunction FormStateInput(props) {\n  var context = useFormContext(props.formId);\n  return /*#__PURE__*/jsx(\"input\", {\n    type: \"hidden\",\n    name: STATE,\n    value: context.getSerializedState(),\n    form: props.formId\n  });\n}\nfunction useSubjectRef() {\n  var initialSubject = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var subjectRef = useRef(initialSubject);\n\n  // Reset the subject everytime the component is rerendered\n  // This let us subscribe to data used in the last render only\n  subjectRef.current = initialSubject;\n  return subjectRef;\n}\nfunction updateSubjectRef(ref, subject, scope, name) {\n  if (subject === 'status' || subject === 'formId') {\n    ref.current[subject] = true;\n  } else if (typeof scope !== 'undefined' && typeof name !== 'undefined') {\n    var _ref$current$subject$, _ref$current$subject;\n    ref.current[subject] = _objectSpread2(_objectSpread2({}, ref.current[subject]), {}, {\n      [scope]: ((_ref$current$subject$ = (_ref$current$subject = ref.current[subject]) === null || _ref$current$subject === void 0 ? void 0 : _ref$current$subject[scope]) !== null && _ref$current$subject$ !== void 0 ? _ref$current$subject$ : []).concat(name)\n    });\n  }\n}\nfunction getMetadata(context, subjectRef, stateSnapshot) {\n  var name = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n  var id = name ? \"\".concat(context.getFormId(), \"-\").concat(name) : context.getFormId();\n  var state = context.getState();\n  return new Proxy({\n    id,\n    name,\n    errorId: \"\".concat(id, \"-error\"),\n    descriptionId: \"\".concat(id, \"-description\"),\n    get initialValue() {\n      return state.initialValue[name];\n    },\n    get value() {\n      return state.value[name];\n    },\n    get errors() {\n      return state.error[name];\n    },\n    get key() {\n      return state.key[name];\n    },\n    get valid() {\n      return state.valid[name];\n    },\n    get dirty() {\n      return state.dirty[name];\n    },\n    get allErrors() {\n      if (name === '') {\n        return state.error;\n      }\n      var result = {};\n      for (var [key, error] of Object.entries(state.error)) {\n        if (isPrefix(key, name)) {\n          result[key] = error;\n        }\n      }\n      return result;\n    },\n    get getFieldset() {\n      return () => new Proxy({}, {\n        get(target, key, receiver) {\n          if (typeof key === 'string') {\n            return getFieldMetadata(context, subjectRef, stateSnapshot, name, key);\n          }\n          return Reflect.get(target, key, receiver);\n        }\n      });\n    }\n  }, {\n    get(target, key, receiver) {\n      // We want to minize re-render by identifying whether the field is used in a callback only\n      // but there is no clear way to know if it is accessed during render or not\n      // if the stateSnapshot is not the latest, then it must be accessed in a callback\n      if (state === stateSnapshot) {\n        switch (key) {\n          case 'id':\n          case 'errorId':\n          case 'descriptionId':\n            updateSubjectRef(subjectRef, 'formId');\n            break;\n          case 'key':\n          case 'initialValue':\n          case 'value':\n          case 'valid':\n          case 'dirty':\n            updateSubjectRef(subjectRef, key, 'name', name);\n            break;\n          case 'errors':\n          case 'allErrors':\n            updateSubjectRef(subjectRef, 'error', key === 'errors' ? 'name' : 'prefix', name);\n            break;\n        }\n      }\n      return Reflect.get(target, key, receiver);\n    }\n  });\n}\nfunction getFieldMetadata(context, subjectRef, stateSnapshot) {\n  var prefix = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n  var key = arguments.length > 4 ? arguments[4] : undefined;\n  var name = typeof key === 'undefined' ? prefix : formatPaths([...getPaths(prefix), key]);\n  return new Proxy({}, {\n    get(_, key, receiver) {\n      var _state$constraint$nam;\n      var metadata = getMetadata(context, subjectRef, stateSnapshot, name);\n      var state = context.getState();\n      switch (key) {\n        case 'formId':\n          if (state === stateSnapshot) {\n            updateSubjectRef(subjectRef, 'formId');\n          }\n          return context.getFormId();\n        case 'required':\n        case 'minLength':\n        case 'maxLength':\n        case 'min':\n        case 'max':\n        case 'pattern':\n        case 'step':\n        case 'multiple':\n          return (_state$constraint$nam = state.constraint[name]) === null || _state$constraint$nam === void 0 ? void 0 : _state$constraint$nam[key];\n        case 'getFieldList':\n          {\n            return () => {\n              var _state$initialValue$n;\n              var initialValue = (_state$initialValue$n = state.initialValue[name]) !== null && _state$initialValue$n !== void 0 ? _state$initialValue$n : [];\n              if (state === stateSnapshot) {\n                updateSubjectRef(subjectRef, 'initialValue', 'name', name);\n              }\n              if (!Array.isArray(initialValue)) {\n                throw new Error('The initial value at the given name is not a list');\n              }\n              return Array(initialValue.length).fill(0).map((_, index) => getFieldMetadata(context, subjectRef, stateSnapshot, name, index));\n            };\n          }\n      }\n      return Reflect.get(metadata, key, receiver);\n    }\n  });\n}\nfunction getFormMetadata(context, subjectRef, stateSnapshot, noValidate) {\n  return new Proxy({}, {\n    get(_, key, receiver) {\n      var metadata = getMetadata(context, subjectRef, stateSnapshot);\n      var state = context.getState();\n      switch (key) {\n        case 'context':\n          return {\n            [wrappedSymbol]: context\n          };\n        case 'status':\n          if (state === stateSnapshot) {\n            updateSubjectRef(subjectRef, 'status');\n          }\n          return state.submissionStatus;\n        case 'validate':\n        case 'update':\n        case 'reset':\n        case 'insert':\n        case 'remove':\n        case 'reorder':\n          return context[key];\n        case 'onSubmit':\n          return context.submit;\n        case 'noValidate':\n          return noValidate;\n      }\n      return Reflect.get(metadata, key, receiver);\n    }\n  });\n}\nfunction createFormContext(options) {\n  var {\n    onSubmit\n  } = options;\n  var context = unstable_createFormContext(options);\n  return _objectSpread2(_objectSpread2({}, context), {}, {\n    submit(event) {\n      var submitEvent = event.nativeEvent;\n      var result = context.submit(submitEvent);\n      if (!result.submission || result.submission.status === 'success' || result.submission.error === null) {\n        if (!result.formData.has(INTENT)) {\n          var _onSubmit;\n          (_onSubmit = onSubmit) === null || _onSubmit === void 0 || _onSubmit(event, result);\n        }\n      } else {\n        event.preventDefault();\n      }\n    },\n    onUpdate(options) {\n      onSubmit = options.onSubmit;\n      context.onUpdate(options);\n    }\n  });\n}\n\nexport { Form, FormProvider, FormStateInput, createFormContext, getFieldMetadata, getFormMetadata, getMetadata, getWrappedFormContext, updateSubjectRef, useFormContext, useFormState, useSubjectRef };\n","import { objectWithoutProperties as _objectWithoutProperties, objectSpread2 as _objectSpread2 } from './_virtual/_rollupPluginBabelHelpers.mjs';\nimport { useState, useEffect, useLayoutEffect, useId } from 'react';\nimport { createFormContext, useSubjectRef, useFormState, getFormMetadata, useFormContext, getFieldMetadata } from './context.mjs';\n\nvar _excluded = [\"id\"];\n\n/**\n * useLayoutEffect is client-only.\n * This basically makes it a no-op on server\n */\nvar useSafeLayoutEffect = typeof document === 'undefined' ? useEffect : useLayoutEffect;\nfunction useFormId(preferredId) {\n  var id = useId();\n  return preferredId !== null && preferredId !== void 0 ? preferredId : id;\n}\nfunction useNoValidate() {\n  var defaultNoValidate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var [noValidate, setNoValidate] = useState(defaultNoValidate);\n  useSafeLayoutEffect(() => {\n    // This is necessary to fix an issue in strict mode with related to our proxy setup\n    // It avoids the component from being rerendered without re-rendering the child\n    // Which reset the proxy but failed to capture its usage within child component\n    if (!noValidate) {\n      setNoValidate(true);\n    }\n  }, [noValidate]);\n  return noValidate;\n}\nfunction useForm(options) {\n  var {\n      id\n    } = options,\n    formConfig = _objectWithoutProperties(options, _excluded);\n  var formId = useFormId(id);\n  var [context] = useState(() => createFormContext(_objectSpread2(_objectSpread2({}, formConfig), {}, {\n    formId\n  })));\n  useSafeLayoutEffect(() => {\n    var disconnect = context.observe();\n    document.addEventListener('input', context.onInput);\n    document.addEventListener('focusout', context.onBlur);\n    document.addEventListener('reset', context.onReset);\n    return () => {\n      disconnect();\n      document.removeEventListener('input', context.onInput);\n      document.removeEventListener('focusout', context.onBlur);\n      document.removeEventListener('reset', context.onReset);\n    };\n  }, [context]);\n  useSafeLayoutEffect(() => {\n    context.onUpdate(_objectSpread2(_objectSpread2({}, formConfig), {}, {\n      formId\n    }));\n  });\n  var subjectRef = useSubjectRef();\n  var stateSnapshot = useFormState(context, subjectRef);\n  var noValidate = useNoValidate(options.defaultNoValidate);\n  var form = getFormMetadata(context, subjectRef, stateSnapshot, noValidate);\n  return [form, form.getFieldset()];\n}\nfunction useFormMetadata(formId) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var subjectRef = useSubjectRef();\n  var context = useFormContext(formId);\n  var stateSnapshot = useFormState(context, subjectRef);\n  var noValidate = useNoValidate(options.defaultNoValidate);\n  return getFormMetadata(context, subjectRef, stateSnapshot, noValidate);\n}\nfunction useField(name) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var subjectRef = useSubjectRef();\n  var context = useFormContext(options.formId);\n  var stateSnapshot = useFormState(context, subjectRef);\n  var field = getFieldMetadata(context, subjectRef, stateSnapshot, name);\n  var form = getFormMetadata(context, subjectRef, stateSnapshot, false);\n  return [field, form];\n}\n\nexport { useField, useForm, useFormId, useFormMetadata, useNoValidate, useSafeLayoutEffect };\n"],"names":["isFormControl","element","isFieldElement","getFormAction","event","_ref","_submitter$getAttribu","form","submitter","getFormEncType","_submitter$getAttribu2","encType","getFormMethod","_ref2","_submitter$getAttribu3","method","requestSubmit","invariant","createFormMeta","options","initialized","_lastResult$initialVa","_options$constraint","_lastResult$state$val","_lastResult$state","lastResult","defaultValue","serialize","initialValue","result","_objectSpread2","generateId","getDefaultKey","handleIntent","prefix","flatten","key","value","i","formatName","setFieldsValidated","meta","fields","_name","intent","_fields$filter","validated","_name2","updateValue","setState","isPlainObject","_name3","_value","getValue","clone","setListState","root","setListValue","validatedFields","name","_ref3","error","field","isPrefix","setValue","createStateProxy","fn","cache","_","receiver","_cache$name","createValueProxy","val","normalize","proxy","paths","getPaths","basename","formatPaths","parentValue","createConstraintProxy","constraint","_result","path","alternative","createKeyProxy","currentKey","parentKey","createValidProxy","keys","createDirtyProxy","shouldDirtyConsider","_ref4","shouldNotify","prev","next","scope","compareFn","_scope$prefix","_scope$name","prefixes","names","list","_loop","_name4","_cache$_name","_ret","createFormContext","subscribers","latestOptions","state","createFormState","getFormElement","_latestOptions$should","_latestOptions$should2","updateFormMeta","nextMeta","prevMeta","prevState","nextState","subscriber","_subscriber$getSubjec","subject","compareBoolean","getSerializedState","submit","formData","getFormData","submission","_result2","report","resolveTarget","willValidate","eventName","shouldValidate","shouldRevalidate","updateFormValue","getSubmissionContext","onInput","dispatch","onBlur","reset","onReset","_result$error","_result$state","formElement","_ref5","newError","update","onUpdate","currentFormId","currentResult","subscribe","callback","getSubject","current","getState","buttonProps","getControlButtonProps","INTENT","serializeIntent","createFormControl","type","control","payload","observe","observer","mutations","mutation","nodes","node","FormError","errors","jsx","index","Fragment","ownKeys","e","r","o","_defineProperty","obj","_toPropertyKey","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","_toPrimitive","input","hint","prim","res","arg","wrappedSymbol","useFormState","subjectRef","useCallback","useSyncExternalStore","useSubjectRef","initialSubject","useRef","updateSubjectRef","ref","_ref$current$subject$","_ref$current$subject","getMetadata","context","stateSnapshot","id","getFieldMetadata","_state$constraint$nam","metadata","_state$initialValue$n","getFormMetadata","noValidate","onSubmit","unstable_createFormContext","submitEvent","_onSubmit","_excluded","useSafeLayoutEffect","useEffect","useLayoutEffect","useFormId","preferredId","useId","useNoValidate","defaultNoValidate","setNoValidate","useState","useForm","formConfig","formId","disconnect"],"mappings":"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","x_google_ignoreList":[0,1,3,4,5]}