import{r as e,n as k}from"./components-BK_sQQer.js";import{g as c,H as C,a as T,b as h,l as x,d as S,E as p}from"./sessions-k0V_o8mM.js";const l=e.createContext(void 0),U=({children:t})=>{const[o,r]=e.useState(""),[a,n]=e.useState(!1);e.useEffect(()=>{const s=setTimeout(()=>{c("access")&&(n(!0),r(o))},0);return()=>clearTimeout(s)},[]);const m={accessToken:o,isSignedIn:a,signIn:s=>{r(s),n(!0)},signOut:async()=>{const s=c("access")||"",i=c("refresh")||"",d=C.New().setAccessToken(s).setRefreshToken(i).build();try{await T.signOut(d)}catch(f){const u=await h(f);u&&x.error(u)}S(),r(""),n(!1)},getClaims:()=>p()},g=e.useMemo(()=>m,[o,a]);return k.jsx(l.Provider,{value:g,children:t})},b=()=>{const t=e.useContext(l);if(!t)throw new Error("useColorTheme must be used within a ColorThemeProvider");return t};export{U,b as u};
