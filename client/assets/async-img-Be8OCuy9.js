import{r as a,j as e}from"./jsx-runtime-DrMmwDmt.js";import{c as y}from"./util-HVvozJ9v.js";const p=c=>{const{src:s,alt:l,className:m,height:d,width:g}=c,[r,t]=a.useState(!0),[f,o]=a.useState(!1),[i,u]=a.useState("");a.useEffect(()=>{(async()=>{try{const n=typeof s=="string"?s:await s;u(n)}catch{o(!0),t(!1)}})()},[s]);const x=()=>{t(!1)},h=()=>{t(!1),o(!0)};return e.jsxs(e.Fragment,{children:[r&&e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 bg-gray-200",children:e.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_2s_infinite] bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200"})})}),f&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsx("p",{className:"text-gray-500",children:"Failed to load image"})}),i&&e.jsx("img",{src:i,alt:l,className:y(r&&"invisible",m),height:d,width:g,onLoad:x,onError:h})]})};export{p as A};
